(function(e){function t(t){for(var r,o,i=t[0],l=t[1],u=t[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},s=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},1815:function(e,t,n){"use strict";n("71e7")},"1e43":function(e,t,n){"use strict";n("244c")},"244c":function(e,t,n){},"539c":function(e,t,n){"use strict";n("5e97")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("4de4"),n("d3b7"),n("b680"),n("b0c0");var r=n("2b0e"),a=n("5f5b"),s=n("b1e0"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("img",{attrs:{alt:"Vue logo",src:n("e029"),height:"200",width:"250"}}),r("router-view")],1)},i=[],l={name:"App",components:{}},u=l,c=(n("034f"),n("2877")),d=Object(c["a"])(u,o,i,!1,null,null,null),p=d.exports,f=n("8c4f"),m=(n("f9e3"),n("2dd8"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header"),n("div",[n("p",[e._v("Welcome !! "+e._s(e.LoggedInuser))]),n("Form",{on:{LoggedUser:e.getLoggedUser}})],1),n("Footer")],1)}),g=[],h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fixed-header"},[n("div",{staticClass:"container"},[n("nav",[n("router-link",{attrs:{to:"/"}},[e._v("Homee")]),n("router-link",{attrs:{to:"/about"}},[e._v("About")]),n("router-link",{attrs:{to:"/products"}},[e._v("Products")]),n("router-link",{attrs:{to:""}},[e._v("Services")]),n("router-link",{attrs:{to:""}},[e._v("Contact Us")]),e.userLoggedIn?n("button",{on:{click:function(t){return e.userLogout()}}},[e._v("Logout")]):e._e()],1)])])},v=[],b={name:"Header",data:function(){return{}},computed:{userLoggedIn:function(){return null!==localStorage.getItem("loggedInUserName")}},methods:{userLogout:function(){localStorage.removeItem("loggedInUser"),localStorage.removeItem("loggedInUserName"),this.$router.push("/login")}}},x=b,_=Object(c["a"])(x,h,v,!1,null,null,null),w=_.exports,D=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},y=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fixed-footer"},[n("div",{staticClass:"container"},[e._v("Copyright Â© 2016 Your Company")])])}],E={name:"Footer"},$=E,k=Object(c["a"])($,D,y,!1,null,null,null),L=k.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",[n("b-form",{attrs:{id:"drop-form"},on:{submit:e.submitForm,drop:function(t){return e.handleFileDrop(t)}}},[n("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],attrs:{type:"text",name:"title",id:"title",placeholder:"Expense Title"},model:{value:e.expenseData.title,callback:function(t){e.$set(e.expenseData,"title",t)},expression:"expenseData.title"}}),n("span",[e._v(e._s(e.errors.first("title")))]),n("b-form-input",{attrs:{type:"text",id:"amount",placeholder:"Enter Amount"},model:{value:e.expenseData.amount,callback:function(t){e.$set(e.expenseData,"amount",t)},expression:"expenseData.amount"}}),n("b-form-group",{attrs:{id:"input-group-3",label:"Paid by:","label-for":"input-3"}},[n("b-select",{attrs:{id:"input-3",options:e.flatmates},model:{value:e.expenseData.paidby,callback:function(t){e.$set(e.expenseData,"paidby",t)},expression:"expenseData.paidby"}})],1),n("span",{staticClass:"drop-files"},[e._v("Drop the expense bills here!")]),n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Add Expense")])],1),n("br"),e.files?n("div",{staticClass:"file-listing"},[n("img",{staticClass:"preview",attrs:{id:"drag-and-drop-preview"}}),e._v(" "+e._s(e.files.name)+" "),n("div",{staticClass:"remove-container"},[n("a",{staticClass:"remove",on:{click:function(t){return e.removeFile()}}},[e._v("Remove")])])]):e._e(),n("br"),n("div",[n("b-form-input",{attrs:{type:"text",placeholder:"Search Expenses Here"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("br"),n("transition",{attrs:{appear:"",name:"fade"}},[e.filterExpense?n("table",[n("tr",[n("th",[e._v("Expense Title")]),n("th",[e._v("Expense Amount")]),n("th",[e._v("Expense Paid By")]),n("th",[e._v("Bill")]),n("th",[e._v("Action")])]),e._l(e.filterExpense,(function(t){return n("tr",{key:t.id},[n("td",[e._v(e._s(t.title))]),n("td",[e._v(e._s(e._f("formatCurrency")(t.amount)))]),n("td",[e._v(e._s(t.paidby))]),n("td",[t.files?n("a",{attrs:{target:"_blank"}},[n("img",{staticClass:"zoom",attrs:{src:t.files,height:"50",width:"50"}})]):n("p",[e._v("-")])]),n("td",[n("b-icon",{style:{cursor:"pointer"},attrs:{icon:"trash-fill","aria-hidden":"true",variant:"danger"},on:{click:function(n){return e.deleteExpense(t.id)}}})],1)])})),n("tr",[n("td",{attrs:{colspan:"5"}},[e._v(" Total expense paid : "+e._s(e._f("formatCurrency")(e.totalExpense)))])])],2):e._e()])],1)},I=[],U=(n("ac1f"),n("00b4"),n("841c"),n("1276"),n("caad"),n("2532"),n("130e")),F=n("bc3a"),O=n.n(F);r["default"].use(U["a"],O.a);var R={name:"Form",data:function(){return{expenseData:{title:null,amount:null,paidby:null,files:null},items:this.$store.state.items,dragAndDropCapable:!1,files:null,uploadPercentage:0,search:null,flatmates:[{text:"Select One",value:null},"Parth","pranav","Harshit","Rakesh"],LoggedInUser:localStorage.getItem("loggedInUser")}},props:{LoggedUser:{type:Function}},methods:{submitForm:function(e){e.preventDefault(),0==this.$validator.errors.length&&(console.log(this.files),this.$store.dispatch("AddExpense",this.expenseData),this.expenseData.title=null,this.expenseData.amount=null,this.expenseData.paidby=null,this.expenseData.files=null,this.files=null),console.log(this.error),console.log("form submitted",this.expenseData)},deleteExpense:function(e){this.$store.dispatch("deleteExpense",{deleteId:e})},bindEvents:function(){["drag","dragstart","dragend","dragover","dragenter","dragleave","drop"].forEach(function(e){document.getElementById("drop-form").addEventListener(e,function(e){e.preventDefault(),e.stopPropagation()}.bind(this),!1)}.bind(this))},handleFileDrop:function(e){this.files=e.dataTransfer.files,this.getImagePreviews()},determineDragAndDropCapable:function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&"FormData"in window&&"FileReader"in window},getImagePreviews:function(){if(console.log(this.files[0]),/\.(jpe?g|png|gif)$/i.test(this.files[0].name)){var e=new FileReader;e.addEventListener("load",function(){this.expenseData.files=e.result,document.getElementById("drag-and-drop-preview").src=e.result}.bind(this),!1),e.readAsDataURL(this.files[0])}else this.$nextTick((function(){document.getElementById("drag-and-drop-preview").src="/images/file.png"}))},removeFile:function(){this.files=null,this.getImagePreviews()}},created:function(){this.$store.dispatch("getExpenses")},mounted:function(){this.$emit("LoggedUser",this.LoggedInUser),this.dragAndDropCapable=this.determineDragAndDropCapable(),this.dragAndDropCapable&&this.bindEvents()},computed:{filterExpense:function(){var e=this;return this.search?(console.log(this.search.toLowerCase().split(" ")),this.$store.state.items.filter((function(t){return e.search.toLowerCase().split(" ").every((function(e){return t.title.toLowerCase().includes(e)}))}))):this.$store.state.items},totalExpense:function(){return this.$store.getters.getTotalExpense}},watch:{items:function(e){console.log("here",e)}}},j=R,P=(n("539c"),Object(c["a"])(j,C,I,!1,null,"7330aa80",null)),A=P.exports,H={name:"Home",components:{Header:w,Footer:L,Form:A},data:function(){return{p:"parth",rowHtml:"<h2>Harshit</h2>",BtnClass:"BtnClass",LoggedInuser:"",Message:"Test Message",Test:[{name:"harshit",age:"24"},{name:"parth",age:"24"},{name:"pranav",age:"22"}]}},methods:{updateValue:function(e){this.p=e},getLoggedUser:function(e){console.log(e),this.LoggedInuser=e}}},S=H,T=(n("8b71"),Object(c["a"])(S,m,g,!1,null,null,null)),M=T.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header"),n("div",[n("h1",[e._v("This is about page")]),e._l(e.allProducts,(function(t){return n("p",{key:t.id},[e._v(" "+e._s(t.name)+" || "+e._s(t.gender)+" ")])}))],2),n("Footer")],1)},B=[],q={name:"About",components:{Header:w,Footer:L}},G=q,J=Object(c["a"])(G,N,B,!1,null,null,null),V=J.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header"),n("div",[n("h1",[e._v("This is products page")]),n("p",[e._v(e._s(e.product_id))])]),n("Footer")],1)},z=[],W={name:"Products",components:{Header:w,Footer:L},data:function(){return{product_id:this.$route.params.id}}},K=W,Q=Object(c["a"])(K,Y,z,!1,null,null,null),X=Q.exports,Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header"),n("b-container",{class:e.containerClass},[n("h3",[e._v("Login")]),null!=e.error?n("b-alert",{attrs:{show:"",variant:"danger"}},[e._v(e._s(e.error))]):e._e(),!1!==e.success?n("b-alert",{attrs:{show:"",variant:"success"}},[e._v(e._s(e.$store.state.notificationMessage))]):e._e(),n("b-form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.userLogin.apply(null,arguments)}}},[n("label",[e._v("Username")]),n("b-form-input",{attrs:{type:"text",placeholder:"Username"},model:{value:e.formData.username,callback:function(t){e.$set(e.formData,"username",t)},expression:"formData.username"}}),n("label",[e._v("password")]),n("b-form-input",{attrs:{type:"password",placeholder:"Password"},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}}),n("br"),n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Login")]),n("br"),n("br")],1),n("router-link",{attrs:{to:"/register"}},[e._v("Register")])],1),n("Footer")],1)},ee=[],te={name:"Login",components:{Header:w,Footer:L},data:function(){return{containerClass:"containerClass",formData:{username:null,password:null},error:null,success:this.$store.state.notificationMessage}},methods:{userLogin:function(){var e=this;this.$store.dispatch("UserLogin",this.formData).then((function(t){200==t.status&&t.data.length>0?(localStorage.setItem("loggedInUser",t.data[0].name),localStorage.setItem("loggedInUserName",t.data[0].username),e.$router.push("/")):(e.error="Incorrect username and password",e.formData.username=null,e.formData.password=null,setTimeout((function(){console.log("before",this.error),this.error=null,this.success=null,console.log("after",this.error)}),3e3))}))}}},ne=te,re=(n("1e43"),Object(c["a"])(ne,Z,ee,!1,null,"0b51bddf",null)),ae=re.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header"),n("b-container",{class:e.containerClass},[n("h3",[e._v("Registration")]),null!=e.error?n("b-alert",{attrs:{show:"",variant:"danger"}},[e._v(e._s(e.error))]):e._e(),n("b-form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.userRegistration.apply(null,arguments)}}},[n("label",[e._v("Name")]),n("b-form-input",{attrs:{type:"text"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}}),n("label",[e._v("Email")]),n("b-form-input",{attrs:{type:"text"},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData.email"}}),n("label",[e._v("Username")]),n("b-form-input",{attrs:{type:"text"},model:{value:e.formData.username,callback:function(t){e.$set(e.formData,"username",t)},expression:"formData.username"}}),n("label",[e._v("Password")]),n("b-form-input",{attrs:{type:"password"},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}}),n("br"),n("label",[e._v("Confirm password")]),n("b-form-input",{attrs:{type:"password"},model:{value:e.formData.confirmPassword,callback:function(t){e.$set(e.formData,"confirmPassword",t)},expression:"formData.confirmPassword"}}),n("br"),n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Register")]),n("br"),n("br")],1)],1),n("Footer")],1)},oe=[],ie={name:"Register",components:{Header:w,Footer:L},data:function(){return{containerClass:"containerClass",formData:{name:null,email:null,username:null,password:null,confirmPassword:null},error:null}},methods:{userRegistration:function(){var e=this;this.$store.dispatch("UserRegistration",this.formData).then((function(t){t?e.$router.push("/login"):e.error="Registration failed"}))}}},le=ie,ue=(n("1815"),Object(c["a"])(le,se,oe,!1,null,"1ec14d7c",null)),ce=ue.exports,de=n("1da1"),pe=(n("96cf"),n("159b"),n("99af"),n("2f62"));r["default"].use(U["a"],O.a),r["default"].use(pe["a"]);var fe=new pe["a"].Store({state:{items:null,totalExpense:0,loggedUser:null,notificationMessage:!1,errorMessage:!1},mutations:{GetExpenseData:function(e,t){e.items=t},calculateTotalExpense:function(e,t){e.totalExpense=t},LoggedUser:function(e,t){e.loggedUser=t},setNotification:function(e,t){e.notificationMessage=t}},actions:{getExpenses:function(e){return Object(de["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,console.log("1"),r=null,a=0,t.next=6,O.a.get("http://10.10.10.22:3010/expenses").then((function(e){r=e.data,r.forEach((function(e){a+=parseInt(e.amount)}))}));case 6:n("GetExpenseData",r),n("calculateTotalExpense",a);case 8:case"end":return t.stop()}}),t)})))()},deleteExpense:function(e,t){return Object(de["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.dispatch,O.a.delete("http://10.10.10.22:3010/expenses/".concat(t.deleteId)).then((function(e){console.log(e.data),r("getExpenses")}));case 2:case"end":return n.stop()}}),n)})))()},AddExpense:function(e,t){return Object(de["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.dispatch,O.a.post("http://10.10.10.22:3010/expenses",{title:t.title,amount:t.amount,paidby:t.paidby,files:t.files}).then((function(e){console.log(e),r("getExpenses")}));case 2:case"end":return n.stop()}}),n)})))()},UserLogin:function(e,t){return Object(de["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,O.a.get("http://10.10.10.22:3010/users?username=".concat(t.username,"&password=").concat(t.password));case 3:return a=n.sent,r("LoggedUser",a),n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})))()},UserRegistration:function(e,t){return Object(de["a"])(regeneratorRuntime.mark((function n(){var r,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,console.log(t),a=O.a.post("http://10.10.10.22:3010/users",{name:t.name,email:t.email,username:t.username,password:t.password}),s=a.then((function(e){return e.data})),r("setNotification","You are registered successfully"),n.abrupt("return",s);case 6:case"end":return n.stop()}}),n)})))()}},getters:{getTotalExpense:function(e){return e.totalExpense}}}),me=n("7bb1");r["default"].use(me["a"]),r["default"].use(f["a"]);var ge=[{path:"/",component:M,meta:{requiresAuth:!0}},{path:"/about",name:"About",component:V},{path:"/products/:id",name:"Products",component:X},{path:"/login",name:"Login",component:ae},{path:"/register",name:"Register",component:ce}];r["default"].filter("formatCurrency",(function(e){return"â¹ "+parseFloat(e).toFixed(2)}));var he=new f["a"]({mode:"history",routes:ge});r["default"].config.productionTip=!1,he.beforeEach((function(e,t,n){"Login"!==e.name&&"Register"!==e.name&&null===localStorage.getItem("loggedInUserName")?n({name:"Login"}):"Login"===e.name&&null!==localStorage.getItem("loggedInUserName")?he.back():n()})),r["default"].use(a["a"]),r["default"].use(s["a"]),new r["default"]({router:he,store:fe,render:function(e){return e(p)}}).$mount("#app")},"5e97":function(e,t,n){},"71e7":function(e,t,n){},"85ec":function(e,t,n){},"88d7":function(e,t,n){},"8b71":function(e,t,n){"use strict";n("88d7")},e029:function(e,t,n){e.exports=n.p+"img/17100512.28541b5a.jpg"}});
//# sourceMappingURL=app.871f9d30.js.map