{"remainingRequest":"/home/GALAXYRADIXWEB/harshit.chauhan/web/expensetrack/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/GALAXYRADIXWEB/harshit.chauhan/web/expensetrack/src/components/Form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/GALAXYRADIXWEB/harshit.chauhan/web/expensetrack/src/components/Form.vue","mtime":1646229254456},{"path":"/home/GALAXYRADIXWEB/harshit.chauhan/web/expensetrack/node_modules/cache-loader/dist/cjs.js","mtime":1643867838317},{"path":"/home/GALAXYRADIXWEB/harshit.chauhan/web/expensetrack/node_modules/babel-loader/lib/index.js","mtime":1643867838299},{"path":"/home/GALAXYRADIXWEB/harshit.chauhan/web/expensetrack/node_modules/cache-loader/dist/cjs.js","mtime":1643867838317},{"path":"/home/GALAXYRADIXWEB/harshit.chauhan/web/expensetrack/node_modules/vue-loader/lib/index.js","mtime":1643867875814}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFZ1ZUF4aW9zIGZyb20gInZ1ZS1heGlvcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpWdWUudXNlKFZ1ZUF4aW9zLCBheGlvcyk7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiRm9ybSIsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGV4cGVuc2VEYXRhOiB7CiAgICAgICAgICAgICAgICB0aXRsZTogbnVsbCwKICAgICAgICAgICAgICAgIGFtb3VudDogbnVsbCwKICAgICAgICAgICAgICAgIHBhaWRieTogbnVsbCwKICAgICAgICAgICAgICAgIGZpbGVzOm51bGwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaXRlbXM6IHRoaXMuJHN0b3JlLnN0YXRlLml0ZW1zLAogICAgICAgICAgICBlcnJvcjogW10sCiAgICAgICAgICAgIGRyYWdBbmREcm9wQ2FwYWJsZTogZmFsc2UsCgkJCWZpbGVzOiBudWxsLAoJCQl1cGxvYWRQZXJjZW50YWdlOiAwLAogICAgICAgICAgICBzZWFyY2g6IG51bGwsCiAgICAgICAgICAgIGZsYXRtYXRlczogW3sKICAgICAgICAgICAgICAgIHRleHQ6ICdTZWxlY3QgT25lJywKICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsCiAgICAgICAgICAgIH0sICdQYXJ0aCcsICdwcmFuYXYnLCAnSGFyc2hpdCcsICdSYWtlc2gnXSwKICAgICAgICAgICAgTG9nZ2VkSW5Vc2VyOmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2dnZWRJblVzZXInKQogICAgICAgIH0KICAgIH0sCiAgICBwcm9wczp7CiAgICAgICAgTG9nZ2VkVXNlcjp7IHR5cGU6RnVuY3Rpb24gfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBzdWJtaXRGb3JtKGUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICB0aGlzLmVycm9yID0gW107CiAgICAgICAgICAgIGlmICh0aGlzLmV4cGVuc2VEYXRhLnRpdGxlID09IG51bGwpIHsKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IucHVzaCgiUGxlYXNlIHByb3ZpZGUgdGl0bGUiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGhpcy5leHBlbnNlRGF0YS5hbW91bnQgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgdGhpcy5lcnJvci5wdXNoKCJQbGVhc2UgcHJvdmlkZSBhbW91bnQiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGhpcy5leHBlbnNlRGF0YS5wYWlkYnkgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgdGhpcy5lcnJvci5wdXNoKCJQbGVhc2Ugc2VsZWN0IHBheWVyIik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0aGlzLmVycm9yLmxlbmd0aCA9PSAwKSB7CgkJCQoJCQkJLyoKCQkJCQlJdGVyYXRlIG92ZXIgYW55IGZpbGUgc2VudCBvdmVyIGFwcGVuZGluZyB0aGUgZmlsZXMKCQkJCQl0byB0aGUgZm9ybSBkYXRhLgoJCQkJKi8KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZmlsZXMpCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnQWRkRXhwZW5zZScsIHRoaXMuZXhwZW5zZURhdGEpOwogICAgICAgICAgICAgICAgdGhpcy5leHBlbnNlRGF0YS50aXRsZSA9IG51bGw7CiAgICAgICAgICAgICAgICB0aGlzLmV4cGVuc2VEYXRhLmFtb3VudCA9IG51bGw7CiAgICAgICAgICAgICAgICB0aGlzLmV4cGVuc2VEYXRhLnBhaWRieSA9IG51bGw7CiAgICAgICAgICAgICAgICB0aGlzLmV4cGVuc2VEYXRhLmZpbGVzID0gbnVsbDsKICAgICAgICAgICAgICAgIHRoaXMuZmlsZXMgPSBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZXJyb3IpOwogICAgICAgICAgICBjb25zb2xlLmxvZygiZm9ybSBzdWJtaXR0ZWQiLCB0aGlzLmV4cGVuc2VEYXRhKTsKICAgICAgICB9LAoKICAgICAgICBkZWxldGVFeHBlbnNlKGlkKSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdkZWxldGVFeHBlbnNlJywgewogICAgICAgICAgICAgICAgZGVsZXRlSWQ6IGlkCiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgYmluZEV2ZW50cygpewoJCQkJLyoKCQkJCQlMaXN0ZW4gdG8gYWxsIG9mIHRoZSBkcmFnIGV2ZW50cyBhbmQgYmluZCBhbiBldmVudCBsaXN0ZW5lciB0byBlYWNoCgkJCQkJZm9yIHRoZSBmaWxlZm9ybS4KCQkJCSovCgkJCQlbJ2RyYWcnLCAnZHJhZ3N0YXJ0JywgJ2RyYWdlbmQnLCAnZHJhZ292ZXInLCAnZHJhZ2VudGVyJywgJ2RyYWdsZWF2ZScsICdkcm9wJ10uZm9yRWFjaCggZnVuY3Rpb24oIGV2dCApIHsKCQkJCQkvKgoJCQkJCQlGb3IgZWFjaCBldmVudCBhZGQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBwcmV2ZW50cyB0aGUgZGVmYXVsdCBhY3Rpb24KCQkJCQkJKG9wZW5pbmcgdGhlIGZpbGUgaW4gdGhlIGJyb3dzZXIpIGFuZCBzdG9wIHRoZSBwcm9wYWdhdGlvbiBvZiB0aGUgZXZlbnQgKHNvCgkJCQkJCW5vIG90aGVyIGVsZW1lbnRzIG9wZW4gdGhlIGZpbGUgaW4gdGhlIGJyb3dzZXIpCgkJCQkJKi8KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJvcC1mb3JtJykuYWRkRXZlbnRMaXN0ZW5lcihldnQsIGZ1bmN0aW9uKGUpewoJCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCQkJfS5iaW5kKHRoaXMpLCBmYWxzZSk7CgkJCQl9LmJpbmQodGhpcykpOwoJCQl9LAoJCQkKCQkJaGFuZGxlRmlsZURyb3AoIGV2ZW50ICl7CgkJCQl0aGlzLmZpbGVzID0gZXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzOwoJCQkJCgkJCQl0aGlzLmdldEltYWdlUHJldmlld3MoKTsKCQkJfSwKCQkJCgkJCWRldGVybWluZURyYWdBbmREcm9wQ2FwYWJsZSgpewoJCQkJLyoKCQkJCQlDcmVhdGUgYSB0ZXN0IGVsZW1lbnQgdG8gc2VlIGlmIGNlcnRhaW4gZXZlbnRzCgkJCQkJYXJlIHByZXNlbnQgdGhhdCBsZXQgdXMgZG8gZHJhZyBhbmQgZHJvcC4KCQkJCSovCgkJCQl2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgkJCQoJCQkJLyoKCQkJCQlDaGVjayB0byBzZWUgaWYgdGhlIGBkcmFnZ2FibGVgIGV2ZW50IGlzIGluIHRoZSBlbGVtZW50CgkJCQkJb3IgdGhlIGBvbmRyYWdzdGFydGAgYW5kIGBvbmRyb3BgIGV2ZW50cyBhcmUgaW4gdGhlIGVsZW1lbnQuIElmCgkJCQkJdGhleSBhcmUsIHRoZW4gd2UgaGF2ZSB3aGF0IHdlIG5lZWQgZm9yIGRyYWdnaW5nIGFuZCBkcm9wcGluZyBmaWxlcy4KCQkJCgkJCQkJV2UgYWxzbyBjaGVjayB0byBzZWUgaWYgdGhlIHdpbmRvdyBoYXMgYEZvcm1EYXRhYCBhbmQgYEZpbGVSZWFkZXJgIG9iamVjdHMKCQkJCQlwcmVzZW50IHNvIHdlIGNhbiBkbyBvdXIgQUpBWCB1cGxvYWRpbmcKCQkJCSovCgkJCQlyZXR1cm4gKCAoICdkcmFnZ2FibGUnIGluIGRpdiApCgkJCQkJCQkJfHwgKCAnb25kcmFnc3RhcnQnIGluIGRpdiAmJiAnb25kcm9wJyBpbiBkaXYgKSApCgkJCQkJCQkJJiYgJ0Zvcm1EYXRhJyBpbiB3aW5kb3cKCQkJCQkJCQkmJiAnRmlsZVJlYWRlcicgaW4gd2luZG93OwoJCQl9LAoJCQkKCQkJZ2V0SW1hZ2VQcmV2aWV3cygpewoJCQkJLyoKCQkJCQlJdGVyYXRlIG92ZXIgYWxsIG9mIHRoZSBmaWxlcyBhbmQgZ2VuZXJhdGUgYW4gaW1hZ2UgcHJldmlldyBmb3IgZWFjaCBvbmUuCgkJCQkqLwoJCQkJCS8qCgkJCQkJCUVuc3VyZSB0aGUgZmlsZSBpcyBhbiBpbWFnZSBmaWxlCiAgICAgICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZpbGVzWzBdKTsKCQkJCQlpZiAoIC9cLihqcGU/Z3xwbmd8Z2lmKSQvaS50ZXN0KCB0aGlzLmZpbGVzWzBdLm5hbWUgKSApIHsKCQkJCQkJLyoKCQkJCQkJCUNyZWF0ZSBhIG5ldyBGaWxlUmVhZGVyIG9iamVjdAoJCQkJCQkqLwoJCQkJCQlsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCQkJCgkJCQkJCS8qCgkJCQkJCQlBZGQgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIHdoZW4gdGhlIGZpbGUgaGFzIGJlZW4gbG9hZGVkCgkJCQkJCQl0byB1cGRhdGUgdGhlIHNyYyBvbiB0aGUgZmlsZSBwcmV2aWV3LgoJCQkJCQkqLwoJCQkJCQlyZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4cGVuc2VEYXRhLmZpbGVzID0gcmVhZGVyLnJlc3VsdDsKCQkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcmFnLWFuZC1kcm9wLXByZXZpZXcnKS5zcmMgPSByZWFkZXIucmVzdWx0OwoJCQkJCQl9LmJpbmQodGhpcyksIGZhbHNlKTsKCQkJCgkJCQkJCS8qCgkJCQkJCQlSZWFkIHRoZSBkYXRhIGZvciB0aGUgZmlsZSBpbiB0aHJvdWdoIHRoZSByZWFkZXIuIFdoZW4gaXQgaGFzCgkJCQkJCQliZWVuIGxvYWRlZCwgd2UgbGlzdGVuIHRvIHRoZSBldmVudCBwcm9wYWdhdGVkIGFuZCBzZXQgdGhlIGltYWdlCgkJCQkJCQlzcmMgdG8gd2hhdCB3YXMgbG9hZGVkIGZyb20gdGhlIHJlYWRlci4KCQkJCQkJKi8KCQkJCQkJcmVhZGVyLnJlYWRBc0RhdGFVUkwoIHRoaXMuZmlsZXNbMF0gKTsKCQkJCQl9ZWxzZXsKCQkJCQkJLyoKCQkJCQkJCVdlIGRvIHRoZSBuZXh0IHRpY2sgc28gdGhlIHJlZmVyZW5jZSBpcyBib3VuZCBhbmQgd2UgY2FuIGFjY2VzcyBpdC4KCQkJCQkJKi8KCQkJCQkJdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24oKXsKCQkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcmFnLWFuZC1kcm9wLXByZXZpZXcnKS5zcmMgPSAnL2ltYWdlcy9maWxlLnBuZyc7CgkJCQkJCX0pOwoJCQkJCX0KCQkJCgkJCX0sCgkJCQoJCQlyZW1vdmVGaWxlKCl7CgkJCQl0aGlzLmZpbGVzID0gbnVsbDsKCQkJCXRoaXMuZ2V0SW1hZ2VQcmV2aWV3cygpOwoJCQl9CgogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2dldEV4cGVuc2VzJyk7CiAgICB9LAoKICAgIG1vdW50ZWQoKXsKICAgICAgICB0aGlzLiRlbWl0KCJMb2dnZWRVc2VyIix0aGlzLkxvZ2dlZEluVXNlcik7CiAgICAgICAgdGhpcy5kcmFnQW5kRHJvcENhcGFibGUgPSB0aGlzLmRldGVybWluZURyYWdBbmREcm9wQ2FwYWJsZSgpOwoJCQoJCQkvKgoJCQkJSWYgZHJhZyBhbmQgZHJvcCBjYXBhYmxlLCB0aGVuIHdlIGNvbnRpbnVlIHRvIGJpbmQgZXZlbnRzIHRvIG91ciBlbGVtZW50cy4KCQkJKi8KCQkJaWYoIHRoaXMuZHJhZ0FuZERyb3BDYXBhYmxlICl7CgkJCQl0aGlzLmJpbmRFdmVudHMoKTsKCQkJfQogICAgfSwgCiAgICBjb21wdXRlZDogewogICAgICAgIGZpbHRlckV4cGVuc2UoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnNlYXJjaCkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zZWFyY2gudG9Mb3dlckNhc2UoKS5zcGxpdCgnICcpKTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5pdGVtcy5maWx0ZXIoaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoLnRvTG93ZXJDYXNlKCkuc3BsaXQoJyAnKS5ldmVyeSh2ID0+IGl0ZW0udGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh2KSkKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLml0ZW1zOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB0b3RhbEV4cGVuc2UoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFRvdGFsRXhwZW5zZTsKICAgICAgICB9CiAgICB9LAogICAgd2F0Y2g6ewogICAgICAgIGl0ZW1zKHZhbCl7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJoZXJlIix2YWwpOwogICAgICAgIH0KICAgIH0KICAgIAp9Cg=="},{"version":3,"sources":["Form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Form.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<b-container>\n    <div v-if=\"error.length>0\">\n        <p v-for=\"e in error\" :key=\"e.id\">\n            {{e | Ucase}}\n        </p>\n    </div>\n    <b-form @submit=\"submitForm\" id=\"drop-form\" @drop=\"handleFileDrop( $event )\">\n        <b-form-input type=\"text\" name=\"title\" id=\"title\" v-model=\"expenseData.title\" placeholder=\"Expense Title\"></b-form-input>\n        <b-form-input type=\"text\" id=\"amount\" v-model=\"expenseData.amount\" placeholder=\"Enter Amount\"></b-form-input>\n        <b-form-group id=\"input-group-3\" label=\"Paid by:\" label-for=\"input-3\">\n            <b-select id=\"input-3\" :options=\"flatmates\" v-model=\"expenseData.paidby\"></b-select>\n        </b-form-group>\n        <span class=\"drop-files\">Drop the expense bills here!</span>\n        <b-button type=\"submit\" variant=\"primary\">Add Expense</b-button>\n    </b-form>\n    <br>\n    <div v-if=\"files\" class=\"file-listing\">\n\t\t\t\t<img class=\"preview\" v-bind:id=\"'drag-and-drop-preview'\"/>\n\t\t\t\t{{ files.name }}\n\t\t\t\t<div class=\"remove-container\">\n\t\t\t\t\t<a class=\"remove\" v-on:click=\"removeFile()\">Remove</a>\n\t\t\t\t</div>\n\t\t</div>\n    <br>\n    <div>\n        <b-form-input type=\"text\" v-model=\"search\" placeholder=\"Search Expenses Here\"></b-form-input>\n    </div>\n    <br>\n    <transition appear name=\"fade\">\n        <table v-if=\"filterExpense\">\n            <tr>\n                <th>Expense Title</th>\n                <th>Expense Amount</th>\n                <th>Expense Paid By</th>\n                <th>Bill</th>\n                <th>Action</th>\n            </tr>\n            <tr v-for=\"data in filterExpense\" :key=\"data.id\">\n                <td>{{ data.title }}</td>\n                <td>{{ data.amount | formatCurrency }}</td>\n                <td>{{ data.paidby }}</td>\n                <td><a v-if=\"data.files\" href=\"_blank\"><img v-bind:src='data.files' height=\"50\" width=\"50\" class=\"zoom\" /></a><p v-else>-</p></td>\n                <td>\n                    <b-icon v-bind:style=\"{'cursor':'pointer'}\" icon=\"trash-fill\" aria-hidden=\"true\" variant=\"danger\" @click=\"deleteExpense(data.id)\"></b-icon>\n                </td>\n            </tr>\n            <tr>\n                <td colspan=\"5\"> Total expense paid : {{ totalExpense | formatCurrency }}</td>\n            </tr>\n        </table>\n    </transition>\n</b-container>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport VueAxios from \"vue-axios\";\nimport axios from \"axios\";\n\nVue.use(VueAxios, axios);\n\nexport default {\n    name: \"Form\",\n    data() {\n        return {\n            expenseData: {\n                title: null,\n                amount: null,\n                paidby: null,\n                files:null\n            },\n            items: this.$store.state.items,\n            error: [],\n            dragAndDropCapable: false,\n\t\t\tfiles: null,\n\t\t\tuploadPercentage: 0,\n            search: null,\n            flatmates: [{\n                text: 'Select One',\n                value: null\n            }, 'Parth', 'pranav', 'Harshit', 'Rakesh'],\n            LoggedInUser:localStorage.getItem('loggedInUser')\n        }\n    },\n    props:{\n        LoggedUser:{ type:Function }\n    },\n    methods: {\n        submitForm(e) {\n            e.preventDefault();\n            this.error = [];\n            if (this.expenseData.title == null) {\n                this.error.push(\"Please provide title\");\n            }\n            if (this.expenseData.amount == null) {\n                this.error.push(\"Please provide amount\");\n            }\n            if (this.expenseData.paidby == null) {\n                this.error.push(\"Please select payer\");\n            }\n\n            if (this.error.length == 0) {\n\t\t\t\n\t\t\t\t/*\n\t\t\t\t\tIterate over any file sent over appending the files\n\t\t\t\t\tto the form data.\n\t\t\t\t*/\n                console.log(this.files)\n                this.$store.dispatch('AddExpense', this.expenseData);\n                this.expenseData.title = null;\n                this.expenseData.amount = null;\n                this.expenseData.paidby = null;\n                this.expenseData.files = null;\n                this.files = null;\n            }\n            console.log(this.error);\n            console.log(\"form submitted\", this.expenseData);\n        },\n\n        deleteExpense(id) {\n            this.$store.dispatch('deleteExpense', {\n                deleteId: id\n            });\n        },\n        bindEvents(){\n\t\t\t\t/*\n\t\t\t\t\tListen to all of the drag events and bind an event listener to each\n\t\t\t\t\tfor the fileform.\n\t\t\t\t*/\n\t\t\t\t['drag', 'dragstart', 'dragend', 'dragover', 'dragenter', 'dragleave', 'drop'].forEach( function( evt ) {\n\t\t\t\t\t/*\n\t\t\t\t\t\tFor each event add an event listener that prevents the default action\n\t\t\t\t\t\t(opening the file in the browser) and stop the propagation of the event (so\n\t\t\t\t\t\tno other elements open the file in the browser)\n\t\t\t\t\t*/\n\t\t\t\t\tdocument.getElementById('drop-form').addEventListener(evt, function(e){\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}.bind(this), false);\n\t\t\t\t}.bind(this));\n\t\t\t},\n\t\t\t\n\t\t\thandleFileDrop( event ){\n\t\t\t\tthis.files = event.dataTransfer.files;\n\t\t\t\t\n\t\t\t\tthis.getImagePreviews();\n\t\t\t},\n\t\t\t\n\t\t\tdetermineDragAndDropCapable(){\n\t\t\t\t/*\n\t\t\t\t\tCreate a test element to see if certain events\n\t\t\t\t\tare present that let us do drag and drop.\n\t\t\t\t*/\n\t\t\t\tvar div = document.createElement('div');\n\t\t\t\n\t\t\t\t/*\n\t\t\t\t\tCheck to see if the `draggable` event is in the element\n\t\t\t\t\tor the `ondragstart` and `ondrop` events are in the element. If\n\t\t\t\t\tthey are, then we have what we need for dragging and dropping files.\n\t\t\t\n\t\t\t\t\tWe also check to see if the window has `FormData` and `FileReader` objects\n\t\t\t\t\tpresent so we can do our AJAX uploading\n\t\t\t\t*/\n\t\t\t\treturn ( ( 'draggable' in div )\n\t\t\t\t\t\t\t\t|| ( 'ondragstart' in div && 'ondrop' in div ) )\n\t\t\t\t\t\t\t\t&& 'FormData' in window\n\t\t\t\t\t\t\t\t&& 'FileReader' in window;\n\t\t\t},\n\t\t\t\n\t\t\tgetImagePreviews(){\n\t\t\t\t/*\n\t\t\t\t\tIterate over all of the files and generate an image preview for each one.\n\t\t\t\t*/\n\t\t\t\t\t/*\n\t\t\t\t\t\tEnsure the file is an image file\n                    */\n                    console.log(this.files[0]);\n\t\t\t\t\tif ( /\\.(jpe?g|png|gif)$/i.test( this.files[0].name ) ) {\n\t\t\t\t\t\t/*\n\t\t\t\t\t\t\tCreate a new FileReader object\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tlet reader = new FileReader();\n\t\t\t\n\t\t\t\t\t\t/*\n\t\t\t\t\t\t\tAdd an event listener for when the file has been loaded\n\t\t\t\t\t\t\tto update the src on the file preview.\n\t\t\t\t\t\t*/\n\t\t\t\t\t\treader.addEventListener(\"load\", function(){\n                            this.expenseData.files = reader.result;\n\t\t\t\t\t\t\tdocument.getElementById('drag-and-drop-preview').src = reader.result;\n\t\t\t\t\t\t}.bind(this), false);\n\t\t\t\n\t\t\t\t\t\t/*\n\t\t\t\t\t\t\tRead the data for the file in through the reader. When it has\n\t\t\t\t\t\t\tbeen loaded, we listen to the event propagated and set the image\n\t\t\t\t\t\t\tsrc to what was loaded from the reader.\n\t\t\t\t\t\t*/\n\t\t\t\t\t\treader.readAsDataURL( this.files[0] );\n\t\t\t\t\t}else{\n\t\t\t\t\t\t/*\n\t\t\t\t\t\t\tWe do the next tick so the reference is bound and we can access it.\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tthis.$nextTick(function(){\n\t\t\t\t\t\t\tdocument.getElementById('drag-and-drop-preview').src = '/images/file.png';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\n\t\t\t},\n\t\t\t\n\t\t\tremoveFile(){\n\t\t\t\tthis.files = null;\n\t\t\t\tthis.getImagePreviews();\n\t\t\t}\n\n    },\n    created() {\n        this.$store.dispatch('getExpenses');\n    },\n\n    mounted(){\n        this.$emit(\"LoggedUser\",this.LoggedInUser);\n        this.dragAndDropCapable = this.determineDragAndDropCapable();\n\t\t\n\t\t\t/*\n\t\t\t\tIf drag and drop capable, then we continue to bind events to our elements.\n\t\t\t*/\n\t\t\tif( this.dragAndDropCapable ){\n\t\t\t\tthis.bindEvents();\n\t\t\t}\n    }, \n    computed: {\n        filterExpense() {\n            if (this.search) {\n                console.log(this.search.toLowerCase().split(' '));\n                return this.$store.state.items.filter(item => {\n                    return this.search.toLowerCase().split(' ').every(v => item.title.toLowerCase().includes(v))\n                });\n            } else {\n                return this.$store.state.items;\n            }\n        },\n        totalExpense() {\n            return this.$store.getters.getTotalExpense;\n        }\n    },\n    watch:{\n        items(val){\n            console.log(\"here\",val);\n        }\n    }\n    \n}\n</script>\n\n<style scoped>\ntable {\n    width: 100%;\n    border: 1px solid black;\n}\n.drop-files{\n    display: block;\n\t\theight: 100px;\n\t\twidth: 250px;\n\t\tbackground: #ccc;\n\t\tmargin: auto;\n\t\tmargin-top: 20px;\n        margin-bottom: 20px;\n\t\ttext-align: center;\n\t\tline-height: 100px;\n\t\tborder-radius: 4px;\n}\nth,\ntd {\n    text-align: center;\n    padding: 8px;\n}\n\ntr:nth-child(even) {\n    background-color: #f2f2f2\n}\n\n.fade-enter-active{\n    animation: bounceIn 2s;\n}\n\n.fade-leave-active{\n    animation: bounceIn 2s reverse;\n}\n\n@keyframes bounceIn {\n    0%{\n        transform: scale(0.1);\n        opacity:0\n    }\n    60%{\n        transform: scale(1.2);\n        opacity:1\n    }\n    100%{\n        transform: scale(1);\n    }\n}\n\n.preview{\n\theight: 100px;\n\t\n}\n\n.zoom:hover {\n  transform: scale(2.0); /* (150% zoom - Note: if the zoom is too large, it will go outside of the viewport) */\n}\n</style>\n"]}]}